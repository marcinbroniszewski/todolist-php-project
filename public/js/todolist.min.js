"use strict";var removeTodoBtns=document.querySelectorAll(".remove-todo-btn"),editTodoBtns=document.querySelectorAll(".edit-todo-btn"),saveChangesBtn=document.querySelector(".save-changes"),editTodoInput=document.querySelector(".edit-todo-input"),editTodoDescription=document.querySelector(".edit-todo-description"),checkboxes=document.querySelectorAll(".todo-checkbox"),todoId=null,setTaskCounter=function(){var e=document.querySelectorAll(".todo"),o=document.querySelector(".task-counter"),t=e.length;o.textContent=2<=t?"Masz ".concat(e.length," zadania do zrobienia"):1===t?"Masz jedno zadanie do zrobienia":"Nie masz żadnych zadań do zrobienia"},removeTodo=(setTaskCounter(),function(e){var e=e.target.parentElement,o=e.id;fetch("../app/includes/remove_todo.inc.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"id="+o}).then(e.remove()).catch(function(e){console.error("Wystąpił błąd:",e)}),setTaskCounter()}),updateTodo=function(e){var o,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=document.getElementById("editTodoModal"),c=document.querySelector(".modal-backdrop");new bootstrap.Modal(n);t||d?((o=new URLSearchParams).append("id",e),o.append("title",t),o.append("description",d),fetch("../app/includes/edit_todo.inc.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o}).then(function(){return location.reload()}).catch(function(e){console.error("Wystąpił błąd:",e)})):(n.classList.remove("show"),n.setAttribute("aria-hidden","true"),n.setAttribute("style","display: none"),document.body.classList.remove("modal-open"),c.remove())},toggleCompleteTodo=function(e){e=e.target.getAttribute("data-todo-id");fetch("../app/includes/complete_todo.inc.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"id="+e}).catch(function(e){console.error("Wystąpił błąd:",e)})},openEditTodoPanel=function(e){todoId=e.target.getAttribute("data-todo-id")};removeTodoBtns.forEach(function(e){e.addEventListener("click",removeTodo)}),editTodoBtns.forEach(function(e){e.addEventListener("click",openEditTodoPanel)}),checkboxes.forEach(function(e){e.addEventListener("click",toggleCompleteTodo)}),saveChangesBtn.addEventListener("click",function(){var e,o;todoId&&(e=editTodoInput.value,o=editTodoDescription.value,updateTodo(todoId,e,o))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvZG9saXN0LmpzIl0sIm5hbWVzIjpbInJlbW92ZVRvZG9CdG5zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWRpdFRvZG9CdG5zIiwic2F2ZUNoYW5nZXNCdG4iLCJxdWVyeVNlbGVjdG9yIiwiZWRpdFRvZG9JbnB1dCIsImNoZWNrYm94ZXMiLCJzZXRUYXNrQ291bnRlciIsInRvZG9JdGVtcyIsInRhc2tDb3VudGVyIiwidGFza3NBbW91bnQiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsImhlYWRlcnMiLCJlIiwicGFyZW50RGl2IiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImlkIiwiZmV0Y2giLCJ0aGVuIiwibWV0aG9kIiwiY29uc29sZSIsImJvZHkiLCJ1cGRhdGVUb2RvIiwiZGVzY3JpcHRpb24iLCJyZW1vdmUiLCJhcmd1bWVudHMiLCJtb2RhbEVsZW1lbnQiLCJtb2RhbEJhY2tkcm9wIiwiY2xhc3NMaXN0IiwicGFyYW1zIiwidW5kZWZpbmVkIiwiZ2V0RWxlbWVudEJ5SWQiLCJib290c3RyYXAiLCJNb2RhbCIsImxvY2F0aW9uIiwicmVsb2FkIiwiYXBwZW5kIiwidG9kb0lkIiwiZXJyb3IiLCJ0aXRsZSIsInRvZ2dsZUNvbXBsZXRlVG9kbyIsInNldEF0dHJpYnV0ZSIsImZvckVhY2giLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwiQ29udGVudC1UeXBlIiwiY2hlY2tib3giLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVUb2RvIiwib3BlbkVkaXRUb2RvUGFuZWwiLCJ2YWx1ZSIsImVkaXRUb2RvRGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGVBQWlCQyxTQUFTQyxpQkFBaUIsa0JBQWtCLEVBQzdEQyxhQUFlRixTQUFTQyxpQkFBaUIsZ0JBQWdCLEVBRHpERixlQUFpQkMsU0FBU0MsY0FBZ0IsZUFBQyxFQUMzQ0MsY0FBZUYsU0FBU0MsY0FBaUIsa0JBQWlCLEVBQzFERSxvQkFBaUJILFNBQVNJLGNBQWMs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LG9CQUFvQkQsTUFDeEM1QixXQUFXZSxPQUFRRSxFQUFPaEIsQ0FBVyxFQUV2QyxDQUFDIiwiZmlsZSI6InRvZG9saXN0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlbW92ZVRvZG9CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlbW92ZS10b2RvLWJ0bicpO1xyXG5jb25zdCBlZGl0VG9kb0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdC10b2RvLWJ0bicpO1xyXG5jb25zdCBzYXZlQ2hhbmdlc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zYXZlLWNoYW5nZXMnKTtcclxuY29uc3QgZWRpdFRvZG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LXRvZG8taW5wdXQnKTtcclxuY29uc3QgZWRpdFRvZG9EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LXRvZG8tZGVzY3JpcHRpb24nKTtcclxuY29uc3QgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2RvLWNoZWNrYm94Jyk7XHJcblxyXG5sZXQgdG9kb0lkID0gbnVsbDtcclxuXHJcbmNvbnN0IHNldFRhc2tDb3VudGVyID0gKCkgPT4geyBcclxuXHRjb25zdCB0b2RvSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9kbycpXHJcblx0Y29uc3QgdGFza0NvdW50ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1jb3VudGVyJylcclxuXHJcblx0Y29uc3QgdGFza3NBbW91bnQgPSB0b2RvSXRlbXMubGVuZ3RoXHJcblxyXG5cdGlmICh0YXNrc0Ftb3VudCA+PSAyKSB7XHJcblx0XHR0YXNrQ291bnRlci50ZXh0Q29udGVudCA9IGBNYXN6ICR7dG9kb0l0ZW1zLmxlbmd0aH0gemFkYW5pYSBkbyB6cm9iaWVuaWFgXHJcblx0fSBlbHNlIGlmICh0YXNrc0Ftb3VudCA9PT0gMSkge1xyXG5cdFx0dGFza0NvdW50ZXIudGV4dENvbnRlbnQgPSBgTWFzeiBqZWRubyB6YWRhbmllIGRvIHpyb2JpZW5pYWBcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGFza0NvdW50ZXIudGV4dENvbnRlbnQgPSAnTmllIG1hc3ogxbxhZG55Y2ggemFkYcWEIGRvIHpyb2JpZW5pYSdcclxuXHR9XHJcblxyXG4gfVxyXG5cclxuc2V0VGFza0NvdW50ZXIoKVxyXG5cclxuY29uc3QgcmVtb3ZlVG9kbyA9IGUgPT4ge1xyXG5cdGNvbnN0IHBhcmVudERpdiA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcblx0Y29uc3QgaWQgPSBwYXJlbnREaXYuaWQ7XHJcblxyXG5cdGZldGNoKCcuLi9hcHAvaW5jbHVkZXMvcmVtb3ZlX3RvZG8uaW5jLnBocCcsIHtcclxuXHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0aGVhZGVyczoge1xyXG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcblx0XHR9LFxyXG5cdFx0Ym9keTogJ2lkPScgKyBpZCxcclxuXHR9KVxyXG5cdFx0LnRoZW4ocGFyZW50RGl2LnJlbW92ZSgpKVxyXG5cdFx0LmNhdGNoKGVycm9yID0+IHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignV3lzdMSFcGnFgiBixYLEhWQ6JywgZXJyb3IpO1xyXG5cdFx0fSk7XHJcblx0XHRzZXRUYXNrQ291bnRlcigpXHJcbn07XHJcblxyXG5cclxuY29uc3QgdXBkYXRlVG9kbyA9ICh0b2RvSWQsIHRpdGxlID0gbnVsbCwgZGVzY3JpcHRpb24gPSBudWxsKSA9PiB7XHJcblx0Y29uc3QgbW9kYWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRUb2RvTW9kYWwnKTtcclxuXHRjb25zdCBtb2RhbEJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWJhY2tkcm9wJylcclxuXHRjb25zdCBtb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwobW9kYWxFbGVtZW50KTtcclxuICBcclxuXHRpZiAoIXRpdGxlICYmICFkZXNjcmlwdGlvbikge1xyXG5cdCAgbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuXHQgIG1vZGFsRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuXHQgIG1vZGFsRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmUnKTtcclxuXHQgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xyXG5cdCAgbW9kYWxCYWNrZHJvcC5yZW1vdmUoKTtcclxuXHQgIHJldHVybjtcclxuXHR9XHJcbiAgXHJcblxyXG5cdFx0Y29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xyXG5cdFx0cGFyYW1zLmFwcGVuZCgnaWQnLCB0b2RvSWQpO1xyXG5cdFx0cGFyYW1zLmFwcGVuZCgndGl0bGUnLCB0aXRsZSk7XHJcblx0XHRwYXJhbXMuYXBwZW5kKCdkZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uKTtcclxuXHJcblx0XHRmZXRjaCgnLi4vYXBwL2luY2x1ZGVzL2VkaXRfdG9kby5pbmMucGhwJywge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogcGFyYW1zLFxyXG5cdFx0fSlcclxuXHRcdFx0LnRoZW4oKCkgPT4gbG9jYXRpb24ucmVsb2FkKCkpXHJcblx0XHRcdC5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignV3lzdMSFcGnFgiBixYLEhWQ6JywgZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHRcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUNvbXBsZXRlVG9kbyA9IGUgPT4ge1xyXG5cdGNvbnN0IGlkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXRvZG8taWQnKTtcclxuXHJcblx0ZmV0Y2goJy4uL2FwcC9pbmNsdWRlcy9jb21wbGV0ZV90b2RvLmluYy5waHAnLCB7XHJcblx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG5cdFx0fSxcclxuXHRcdGJvZHk6ICdpZD0nICsgaWQsXHJcblx0fSkuY2F0Y2goZXJyb3IgPT4ge1xyXG5cdFx0Y29uc29sZS5lcnJvcignV3lzdMSFcGnFgiBixYLEhWQ6JywgZXJyb3IpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3Qgb3BlbkVkaXRUb2RvUGFuZWwgPSBlID0+IHtcclxuXHR0b2RvSWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9kby1pZCcpO1xyXG59O1xyXG5cclxucmVtb3ZlVG9kb0J0bnMuZm9yRWFjaChidG4gPT4ge1xyXG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZVRvZG8pO1xyXG59KTtcclxuZWRpdFRvZG9CdG5zLmZvckVhY2goYnRuID0+IHtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdFRvZG9QYW5lbCk7XHJcbn0pO1xyXG5jaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4ge1xyXG5cdGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlQ29tcGxldGVUb2RvKVxyXG59KVxyXG5zYXZlQ2hhbmdlc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRpZiAodG9kb0lkKSB7XHJcblx0XHRjb25zdCB0aXRsZSA9IGVkaXRUb2RvSW5wdXQudmFsdWU7XHJcblx0XHRjb25zdCBkZXNjcmlwdGlvbiA9IGVkaXRUb2RvRGVzY3JpcHRpb24udmFsdWU7XHJcblx0XHR1cGRhdGVUb2RvKHRvZG9JZCwgdGl0bGUsIGRlc2NyaXB0aW9uKTtcclxuXHR9XHJcbn0pO1xyXG4iXX0=
